<div class="row">
    <div class="col-md-12 portlets">
        <form>
            <div class="panel">
                <div class="panel-header panel-controls">
                    <h3><i class="fa fa-table"></i>مشاهده گزارش {{currentItem.report.title}}</h3>
                </div>
                <div class="panel-content">
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="form-group">
                                <label for="options">لیست ستونهایی که مایل هستید در گزارش نمایش داده شوند</label>
                                <br />
                                <div *ngFor="let col of currentItem.reportColumns">
                                    <div class="col-sm-1">
                                        <label>
                                            <input type="checkbox" name="columnview" value="{{col.id}}" [(ngModel)]="col.checked"
                                                [ngModelOptions]="{standalone: true}" />
                                            {{col.title}}
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr class="divider" style="border: 1px solid;" />
                    <div class="row">
                        <div class="col-sm-12">
                            <div *ngFor="let param of currentItem.reportParameters">
                                <div class="col-sm-{{param.width}}" *ngIf="param.type == 1">
                                    <div class="form-group">
                                        <label class="control-label">{{param.title}}</label>
                                        <input type="text" class="form-control" [(ngModel)]="param.value" name="{{param.name}}" />
                                    </div>
                                </div>
                                <div class="col-sm-{{param.width}}" *ngIf="param.type == 2">
                                    <div class="form-group">
                                        <label class="control-label">{{param.title}}</label>
                                        <input type="number" class="form-control" [(ngModel)]="param.value" name="{{param.name}}" />
                                    </div>
                                </div>
                                <div class="col-sm-{{param.width}}" *ngIf="param.type == 3">
                                    <div class="form-group">
                                        <label class="control-label">{{param.title}}</label>
                                        <input type="number" class="form-control" [(ngModel)]="param.value" name="{{param.name}}" />
                                    </div>
                                </div>
                                <div class="col-sm-{{param.width}}" *ngIf="param.type == 4">
                                    <div class="form-group">
                                        <label class="control-label">{{param.title}}</label>
                                        <input type="number" class="form-control" [(ngModel)]="param.value" name="{{param.name}}" />
                                    </div>
                                </div>
                                <div class="col-sm-{{param.width}}" *ngIf="param.type == 5">
                                    <div class="form-group">
                                        <label class="control-label">{{param.title}}</label>
                                        <input type="number" class="form-control" [(ngModel)]="param.value" name="{{param.name}}" />
                                    </div>
                                </div>
                                <div class="col-sm-{{param.width}}" *ngIf="param.type == 6 || param.type == 7">
                                    <div class="form-group">
                                        <label class="control-label">{{param.title}}</label>
                                        <select class="form-control" [(ngModel)]="param.value" name="{{param.name}}">
                                            <option value="">لطفا انتخاب کنید</option>
                                            <option *ngFor="let prop of param.staticItems" [ngValue]="prop.value">
                                                {{prop.text}} </option>

                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel-footer">
                    <div class="row">
                        <div class="col-sm-12" dir="ltr">
                            <button type="submit" class="btn btn-primary" (click)="execute()">اجرا</button>
                        </div>
                    </div>
                </div>

            </div>
        </form>
        <div class="panel" *ngIf="columns.length != 0">
            <div class="panel-header panel-controls">
                <h3><i class="fa fa-table"></i>لیست نتایج</h3>
            </div>
            <div class="panel-content">
                <div class="row">
                    <div class="col-sm-12">
                        <table class="table table-striped table-condensed table-hover" id="ReportResult">
                            <thead id="Containts">
                                <tr>
                                    <th style="width:1%;">ردیف</th>
                                    <th *ngFor="let col of columns">{{col.columnName}}</th>
                                </tr>
                            </thead>
                            <tbody id="Containts">
                                <tr *ngFor="let row of rows; index as i">
                                    <td>{{i + 1}}</td>
                                    <td *ngFor="let data of row.itemArray">{{ data }}</td>
                                </tr>
                                <tr *ngIf="isSum">
                                    <td style="text-align: center;" [attr.colspan]="columns.length + 1">
                                        مجموع
                                    </td>
                                </tr>
                                <tr *ngIf="isSum" style="font-weight: bolder">
                                    <td></td>
                                    <td *ngFor="let data of sumRow">{{ data }}</td>
                                </tr>
                                <tr *ngIf="isAvg">
                                    <td style="text-align: center;" [attr.colspan]="columns.length + 1">
                                        میانگین
                                    </td>
                                </tr>
                                <tr *ngIf="isAvg" style="font-weight: bolder">
                                    <td></td>
                                    <td *ngFor="let data of avgRow">{{ data }}</td>
                                </tr>
                            </tbody>
                        </table>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>